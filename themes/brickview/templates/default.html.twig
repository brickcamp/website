{% extends 'partials/base.html.twig' %}

{% block content %}
    <article class="single type-{{ page.template }} slug-{{ page.slug }}">
    
        <figure class="single-image">
        {% block single_image %}
            {% if page.header.image %}
                {% set media = page.media[page.header.image] %}
            {% else %}
                {% set media = media_directory('theme://images')['no_image.png'] %}
            {% endif %}
            <img src="{{ media.cropResize(500,500).url }}" alt={{ page.title }}>
        {% endblock %}
        </figure>

        <header class="single-header">
        {% block single_header %}
            <h1 class="single-title">{{ page.title }}</h1>

            <section class="single-meta">
            {% block single_meta %}
                <time class="date" datetime="{{ page.date|date() }}">{{ page.date|date()|nicetime }}</time>
                <span class="divider"> | </span>
                <span class="author">{{ page.header.author|default("Brick.camp") }}</span>
            {% endblock %}
            </section>
        {% endblock %}
        </header>

        <section class="single-content">
        {% block single_content %}
            {{ page.content }}
        {% endblock %}
        </section>

        <footer class="single-footer">
        {% block single_footer %}
            TODO: Footer
        {% endblock %}
        </footer>
    </article>
{% endblock %}
